
# üí∏ Transaction App

A Spring Boot-based application for managing users, balances, and financial transactions.

---

## üöÄ Getting Started

### 1. Clone the repository

```bash
git clone https://github.com/abdulatifjalolov/transaction-app.git
cd transaction-app
```

---

### 2. Build Docker image

```bash
docker build -t transaction-app .
```

---

### 3. Run the container

```bash
docker run -p 8080:8080 transaction-app
```
---

## üìñ API Documentation (Swagger)

Once the application is running, open your browser and navigate to:

```
http://localhost:8080/swagger-ui/index.html
```

You can test all endpoints directly from Swagger UI.

---

## üóÑÔ∏è Manual SQL Schema (if auto-DDL is disabled)

```sql
create table sys_users
(
  id       bigint generated by default as identity
    primary key,
  enabled  boolean      not null,
  password varchar(255) not null,
  status   varchar(255)
    constraint sys_users_status_check
      check ((status)::text = ANY ((ARRAY ['ACTIVE'::character varying, 'INACTIVE'::character varying])::text[])),
    username varchar(255) not null
        constraint uklgllb14jd9kcm09b9enkkbh0q
            unique
);

create table balances
(
  id               bigint generated by default as identity
    primary key,
  created_at       timestamp(6),
  created_by       varchar(255),
  last_modified_by varchar(255),
  updated_at       timestamp(6),
  amount           double precision not null,
  type             varchar(255)     not null
    constraint balances_type_check
      check ((type)::text = ANY
    ((ARRAY ['MAIN'::character varying, 'BONUS'::character varying, 'CREDIT'::character varying])::text[])),
    user_id          bigint
        constraint fkmyu47bj0x6pfx5n91mqk8fpiv
            references sys_users,
    constraint ukmbwu7r381v6m3g95xspxbtblf
        unique (user_id, type)
);

create table transactions
(
  id               bigint generated by default as identity
    primary key,
  created_at       timestamp(6),
  created_by       varchar(255),
  last_modified_by varchar(255),
  updated_at       timestamp(6),
  amount           double precision,
  balance_type     varchar(255)
    constraint transactions_balance_type_check
      check ((balance_type)::text = ANY
    ((ARRAY ['MAIN'::character varying, 'BONUS'::character varying, 'CREDIT'::character varying])::text[])),
    description      varchar(255),
    balance_id       bigint
        constraint fksdpp7ge71swawcs3oedrt8ia9
            references balances,
    user_id          bigint
        constraint fkqnvcp69vhs4q6lj4sfhq9n84s
            references sys_users
);

create table balance_logs
(
  id               bigint generated by default as identity
    primary key,
  created_at       timestamp(6),
  created_by       varchar(255),
  last_modified_by varchar(255),
  updated_at       timestamp(6),
  amount           double precision,
  balance_type     varchar(255)
    constraint balance_logs_balance_type_check
      check ((balance_type)::text = ANY
    ((ARRAY ['MAIN'::character varying, 'BONUS'::character varying, 'CREDIT'::character varying])::text[])),
    description      varchar(255),
    log_type         varchar(255)
        constraint balance_logs_log_type_check
            check ((log_type)::text = ANY
                   ((ARRAY ['INCOME'::character varying, 'OUTCOME'::character varying])::text[])),
    balance_id       bigint
        constraint fkhy0rdlgbs3uoetwx32pmkh79j
            references balances,
    transaction_id   bigint
        constraint fkdfcsmr1uhti66c6l9b4a7xpeu
            references transactions,
    user_id          bigint
        constraint fkihlx2x8d7cel7mn79njhfnich
            references sys_users
);

create table user_roles
(
  user_id bigint not null
    constraint fk79a43l1398k1o5sf5cdwlm2fy
      references sys_users,
  roles   varchar(255)
    constraint user_roles_roles_check
      check ((roles)::text = ANY ((ARRAY ['USER'::character varying, 'ADMIN'::character varying])::text[]))
  );

```

---

## üîê Authentication Flow

- **Register**

  `POST /api/auth/register`

- **Login**

  `POST /api/auth/login`

  ‚ûú Returns a JWT token

- **Use token in requests**

```http
Authorization: Bearer <your-token>
```

---

## üìÇ Project Structure

```
src/
 ‚îî‚îÄ‚îÄ main/
     ‚îú‚îÄ‚îÄ java/
     ‚îÇ   ‚îî‚îÄ‚îÄ com/example/testtask/
     ‚îÇ       ‚îú‚îÄ‚îÄ controller/
     ‚îÇ       ‚îú‚îÄ‚îÄ dto/
     ‚îÇ       ‚îú‚îÄ‚îÄ model/
     ‚îÇ       ‚îú‚îÄ‚îÄ exception/
     ‚îÇ       ‚îú‚îÄ‚îÄ repository/
     ‚îÇ       ‚îú‚îÄ‚îÄ security/
     ‚îÇ       ‚îî‚îÄ‚îÄ service/
     ‚îÇ       ‚îî‚îÄ‚îÄ utils/
     ‚îî‚îÄ‚îÄ resources/
         ‚îú‚îÄ‚îÄ application.yml
```

## üë§ Author

**Abdulatif Jalolov**

üìß Email: `abdulatifjalolov6004273@gmail.com`  
üåç Location: Uzbekistan/Tashkent

---

> Feel free to contribute or raise issues. Happy coding! üöÄ
